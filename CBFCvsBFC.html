<!DOCTYPE html>  
<html lang="zh-CN">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>PFC vs CBFC æµæ§æœºåˆ¶å¯¹æ¯”åŠ¨ç”»</title>  
    <link rel="stylesheet" href="common.css">  
    <style>  
        /* ---- PFC vs CBFC ä¸“ç”¨æ ·å¼ ---- */  
        .comparison-container {  
            display: grid;  
            grid-template-columns: 1fr 1fr;  
            gap: 2rem;  
            margin: 2rem 0;  
        }  

        .flow-control-column {  
            background: var(--bg-card);  
            border: 2px solid var(--border-color);  
            border-radius: var(--border-radius);  
            padding: 2rem;  
            position: relative;  
        }  

        .flow-control-column.pfc {  
            border-left: 4px solid var(--accent-orange);  
        }  

        .flow-control-column.cbfc {  
            border-left: 4px solid var(--accent-blue);  
        }  

        .fc-header {  
            font-size: 1.2em;  
            font-weight: 600;  
            margin-bottom: 1.5rem;  
            padding-bottom: 0.5rem;  
            border-bottom: 2px solid var(--border-color);  
        }  

        .fc-header.pfc {  
            color: var(--accent-orange);  
            border-bottom-color: var(--accent-orange);  
        }  

        .fc-header.cbfc {  
            color: var(--accent-blue);  
            border-bottom-color: var(--accent-blue);  
        }  ï¼šq

        .fc-entity {  
            background: rgba(0, 0, 0, 0.2);  
            border: 1px solid var(--border-color);  
            border-radius: var(--border-radius-sm);  
            padding: 1.5rem;  
            margin: 1rem 0;  
            position: relative;  
            min-height: 100px;  
        }  

        .fc-entity.sender {  
            border-left: 3px solid var(--accent-red);  
        }  

        .fc-entity.receiver {  
            border-left: 3px solid var(--accent-green);  
        }  

        .fc-entity-name {  
            font-size: 0.9em;  
            font-weight: 600;  
            color: var(--accent-cyan);  
            margin-bottom: 0.5rem;  
            text-transform: uppercase;  
            letter-spacing: 0.5px;  
        }  

        .fc-state {  
            font-size: 0.85em;  
            line-height: 1.6;  
            color: var(--text-secondary);  
            margin: 0.5rem 0;  
        }  

        .fc-state strong {  
            color: var(--accent-cyan);  
        }  

        .fc-message-flow {  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            padding: 1.5rem 0;  
            margin: 1rem 0;  
        }  

        .fc-message-box {  
            background: rgba(100, 255, 218, 0.1);  
            border: 1px solid var(--accent-cyan);  
            border-radius: var(--border-radius-sm);  
            padding: 0.75rem 1rem;  
            font-size: 0.85em;  
            font-weight: 500;  
            color: var(--accent-cyan);  
            text-align: center;  
            min-width: 120px;  
            opacity: 0;  
            animation: fadeInScale 0.5s ease forwards;  
        }  

        .fc-message-box.active {  
            opacity: 1;  
            box-shadow: 0 0 15px rgba(100, 255, 218, 0.4);  
        }  

        .fc-arrow {  
            font-size: 1.5em;  
            margin: 0 0.5rem;  
            opacity: 0;  
            animation: slideArrow 0.5s ease forwards;  
        }  

        @keyframes fadeInScale {  
            from {  
                opacity: 0;  
                transform: scale(0.8);  
            }  
            to {  
                opacity: 1;  
                transform: scale(1);  
            }  
        }  

        @keyframes slideArrow {  
            from {  
                opacity: 0;  
                transform: translateX(-10px);  
            }  
            to {  
                opacity: 1;  
                transform: translateX(0);  
            }  
        }  

        /* å¯¹æ¯”è¡¨æ ¼ */  
        .comparison-table {  
            width: 100%;  
            border-collapse: collapse;  
            margin: 2rem 0;  
            font-size: 0.9em;  
        }  

        .comparison-table th,  
        .comparison-table td {  
            padding: 1rem;  
            text-align: left;  
            border: 1px solid var(--border-color);  
        }  

        .comparison-table th {  
            background: rgba(100, 255, 218, 0.1);  
            color: var(--accent-cyan);  
            font-weight: 600;  
        }  

        .comparison-table tr:nth-child(even) {  
            background: rgba(0, 0, 0, 0.2);  
        }  

        .comparison-table .feature-name {  
            font-weight: 600;  
            color: var(--text-primary);  
            min-width: 180px;  
        }  

        .comparison-table .pfc-feature {  
            color: var(--accent-orange);  
        }  

        .comparison-table .cbfc-feature {  
            color: var(--accent-blue);  
        }  

        .comparison-table .same-feature {  
            color: var(--accent-green);  
        }  

        /* æ—¶åºå›¾ */  
        .timeline-diagram {  
            background: rgba(0, 0, 0, 0.2);  
            border: 1px solid var(--border-color);  
            border-radius: var(--border-radius);  
            padding: 2rem;  
            margin: 2rem 0;  
            position: relative;  
            overflow-x: auto;  
        }  

        .timeline-track {  
            display: flex;  
            align-items: center;  
            margin: 1.5rem 0;  
            min-height: 60px;  
        }  

        .timeline-label {  
            min-width: 120px;  
            font-size: 0.85em;  
            font-weight: 600;  
            color: var(--accent-cyan);  
            text-align: right;  
            padding-right: 1rem;  
        }  

        .timeline-events {  
            flex: 1;  
            display: flex;  
            align-items: center;  
            position: relative;  
            height: 60px;  
        }  

        .timeline-event {  
            position: absolute;  
            width: 70px;  
            height: 50px;  
            border-radius: var(--border-radius-sm);  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            font-size: 0.75em;  
            font-weight: 600;  
            cursor: pointer;  
            transition: all var(--transition-normal);  
        }  

        .timeline-event:hover {  
            transform: scale(1.1);  
            box-shadow: var(--shadow-glow-cyan);  
        }  

        .timeline-event.pfc-packet {  
            background: var(--accent-orange);  
            color: #000;  
        }  

        .timeline-event.pfc-ctrl {  
            background: var(--accent-yellow);  
            color: #000;  
        }  

        .timeline-event.cbfc-data {  
            background: var(--accent-blue);  
            color: #fff;  
        }  

        .timeline-event.cbfc-credit {  
            background: var(--accent-green);  
            color: #000;  
        }  

        .timeline-line {  
            position: absolute;  
            top: 50%;  
            left: 0;  
            right: 0;  
            height: 2px;  
            background: var(--border-color);  
            z-index: 0;  
        }  

        /* ç¼“å†²åŒºå¯è§†åŒ– */  
        .buffer-viz {  
            background: var(--bg-card);  
            border: 1px solid var(--border-color);  
            border-radius: var(--border-radius);  
            padding: 1.5rem;  
            margin: 1rem 0;  
        }  

        .buffer-name {  
            font-size: 0.9em;  
            font-weight: 600;  
            color: var(--accent-cyan);  
            margin-bottom: 0.5rem;  
        }  

        .buffer-bar {  
            width: 100%;  
            height: 40px;  
            background: rgba(0, 0, 0, 0.3);  
            border: 1px solid var(--border-color);  
            border-radius: var(--border-radius-xs);  
            overflow: hidden;  
            position: relative;  
            margin: 0.5rem 0;  
        }  

        .buffer-fill {  
            height: 100%;  
            background: linear-gradient(90deg, var(--accent-blue), var(--accent-cyan));  
            width: 0%;  
            transition: width 0.3s ease;  
            display: flex;  
            align-items: center;  
            justify-content: flex-end;  
            padding-right: 0.5rem;  
            font-size: 0.75em;  
            font-weight: 600;  
            color: #000;  
        }  

        .buffer-threshold {  
            position: absolute;  
            top: 0;  
            bottom: 0;  
            width: 2px;  
            background: var(--accent-red);  
            opacity: 0.7;  
            z-index: 1;  
        }  

        .buffer-info {  
            display: flex;  
            justify-content: space-between;  
            font-size: 0.8em;  
            color: var(--text-muted);  
            margin-top: 0.5rem;  
        }  

        /* æ§åˆ¶é¢æ¿ */  
        .fc-controls {  
            display: flex;  
            gap: 1rem;  
            margin: 2rem 0;  
            flex-wrap: wrap;  
            align-items: center;  
        }  

        .fc-speed-control {  
            display: flex;  
            align-items: center;  
            gap: 1rem;  
        }  

        .fc-speed-control label {  
            font-size: 0.9em;  
            color: var(--text-secondary);  
            min-width: 100px;  
        }  

        .fc-speed-control input[type="range"] {  
            width: 120px;  
        }  

        .comparison-view-toggle {  
            display: flex;  
            gap: 0.5rem;  
        }  

        .comparison-view-toggle button {  
            padding: 0.5rem 1rem;  
            border: 1px solid var(--border-color);  
            background: transparent;  
            color: var(--text-secondary);  
            border-radius: var(--border-radius-xs);  
            cursor: pointer;  
            transition: all var(--transition-fast);  
            font-size: 0.85em;  
        }  

        .comparison-view-toggle button.active {  
            background: var(--accent-cyan);  
            color: #000;  
            border-color: var(--accent-cyan);  
        }  

        .comparison-view-toggle button:hover {  
            border-color: var(--accent-cyan);  
            color: var(--accent-cyan);  
        }  

        /* åˆ‡æ¢è§†å›¾ */  
        .view-section {  
            display: none;  
        }  

        .view-section.active {  
            display: block;  
        }  

        @media (max-width: 768px) {  
            .comparison-container {  
                grid-template-columns: 1fr;  
            }  

            .timeline-events {  
                height: 100px;  
            }  

            .timeline-event {  
                width: 60px;  
                height: 45px;  
                font-size: 0.7em;  
            }  
        }  
    </style>  
</head>  
<body>  
    <!-- å¯¼èˆªæ  -->  
    <nav class="nav-bar"></nav>  

    <!-- é¡µé¢å¤´éƒ¨ -->  
    <div class="page-header">  
        <h1>PFC vs CBFC æµæ§æœºåˆ¶å¯¹æ¯”åŠ¨ç”»</h1>  
        <p class="subtitle">ä¼˜å…ˆçº§æµæ§ vs ä¿¡ç”¨æµæ§ å®Œæ•´å¯¹æ¯”å±•ç¤º</p>  
    </div>  

    <!-- ä¸»å®¹å™¨ -->  
    <div class="container">  

        <!-- æ¦‚è¿°éƒ¨åˆ† -->  
        <section class="section mb-3">  
            <h2 class="section-title">ğŸ“Š æ— æŸç½‘ç»œä¸­çš„æµé‡æ§åˆ¶</h2>  
            <p>  
                åœ¨æ•°æ®ä¸­å¿ƒå’Œé«˜æ€§èƒ½è®¡ç®—ç½‘ç»œä¸­ï¼Œæ— æŸåŒ…ä¼ é€è‡³å…³é‡è¦ã€‚IEEE 802.1Q å®šä¹‰çš„ PFCï¼ˆPriority Flow Controlï¼‰  
                å’Œ UE è§„èŒƒä¸­çš„ CBFCï¼ˆCredit-Based Flow Controlï¼‰æ˜¯ä¸¤ç§é‡è¦çš„é“¾è·¯å±‚æµæ§æœºåˆ¶ã€‚  
            </p>  
            <div class="info-box">  
                <strong>æ ¸å¿ƒç›®æ ‡ï¼š</strong>é˜²æ­¢æ¥æ”¶ç¼“å†²åŒºæº¢å‡ºå¯¼è‡´çš„åŒ…ä¸¢å¤±ï¼Œå®ç°æ— æŸæ•°æ®ä¼ è¾“ã€‚  
            </div>  
        </section>  

        <!-- æ§åˆ¶é¢æ¿ -->  
        <section class="section mb-3">  
            <h2 class="section-title">âš™ï¸ åŠ¨ç”»æ§åˆ¶ä¸è§†å›¾åˆ‡æ¢</h2>  
            <div class="fc-controls">  
                <div>  
                    <button class="btn btn-primary" id="fc-play-btn">â–¶ å¼€å§‹åŠ¨ç”»</button>  
                    <button class="btn btn-outline" id="fc-pause-btn">â¸ æš‚åœ</button>  
                    <button class="btn btn-outline" id="fc-reset-btn">ğŸ”„ é‡ç½®</button>  
                    <button class="btn btn-outline" id="fc-step-btn">â¡ ä¸‹ä¸€æ­¥</button>  
                </div>  
                <div class="fc-speed-control">  
                    <label for="fc-speed">åŠ¨ç”»é€Ÿåº¦ï¼š</label>  
                    <input type="range" id="fc-speed" min="0.5" max="3" step="0.5" value="1" />  
                    <span id="fc-speed-val">1x</span>  
                </div>  
            </div>  
            <div class="comparison-view-toggle">  
                <button id="view-mechanism" class="btn-view active">æœºåˆ¶åŸç†</button>  
                <button id="view-sequence" class="btn-view">æ—¶åºå¯¹æ¯”</button>  
                <button id="view-comparison" class="btn-view">ç‰¹æ€§å¯¹æ¯”è¡¨</button>  
            </div>  
        </section>  

        <!-- æœºåˆ¶åŸç†è§†å›¾ -->  
        <section class="section mb-3 view-section active" id="mechanism-view">  
            <h2 class="section-title">ğŸ”„ æµæ§æœºåˆ¶åŸç†</h2>  

            <div class="comparison-container">  
                <!-- PFC æœºåˆ¶ -->  
                <div class="flow-control-column pfc">  
                    <div class="fc-header pfc">  
                        ğŸŸ  PFC - Priority Flow Control  
                    </div>  
                    <div class="info-box">  
                        <strong>æ ‡å‡†ï¼š</strong>IEEE 802.1Q-2022 ç¬¬ 36 æ¡æ¬¾<br>  
                        <strong>æ§åˆ¶ç²’åº¦ï¼š</strong>ä¼˜å…ˆçº§ï¼ˆCoSï¼‰çº§åˆ«ï¼Œ8 ä¸ªä¼˜å…ˆçº§  
                    </div>  

                    <h3 style="color: var(--accent-cyan); margin-top: 1rem;">å·¥ä½œåŸç†</h3>  
                    <div class="fc-entity receiver">  
                        <div class="fc-entity-name">ğŸ“¥ æ¥æ”¶ç«¯</div>  
                        <div class="fc-state">  
                            ç›‘æ§æ¥æ”¶ç¼“å†²åŒºæ·±åº¦<br>  
                            å½“ç¼“å†²å ç”¨ <strong>è¶…è¿‡é˜ˆå€¼</strong> æ—¶ï¼Œ<br>  
                            å‘é€ <strong>PAUSE å¸§</strong> æš‚åœå‘é€ç«¯<br>  
                            ç¼“å†²é‡Šæ”¾åï¼Œå‘é€ <strong>è§£é™¤ PAUSE</strong> æˆ–ç­‰å¾… <strong>è¶…æ—¶</strong>  
                        </div>  
                    </div>  

                    <div class="fc-message-flow">  
                        <span class="fc-arrow">â†“â†“</span>  
                    </div>  

                    <div class="fc-entity sender">  
                        <div class="fc-entity-name">ğŸ“¤ å‘é€ç«¯</div>  
                        <div class="fc-state">  
                            æ”¶åˆ° <strong>PAUSE å¸§</strong><br>  
                            <strong>ç«‹å³åœæ­¢</strong> è¯¥ä¼˜å…ˆçº§æ•°æ®ä¼ è¾“<br>  
                            ç­‰å¾… <strong>PAUSE è¶…æ—¶</strong> æˆ– <strong>æ¢å¤ä¿¡å·</strong><br>  
                            ç„¶åæ¢å¤å‘é€  
                        </div>  
                    </div>  

                    <div class="warning-box" style="margin-top: 1.5rem;">  
                        <strong>ç‰¹ç‚¹ï¼š</strong>  
                        <ul style="margin-top: 0.5rem;">  
                            <li>XOFF/XON å¼€å…³å‹æµæ§</li>  
                            <li>ååº”å¿«é€Ÿï¼Œå®ç°ç®€å•</li>  
                            <li>æ— æ¶ˆæ¯å¼€é”€ï¼ˆé™æ­¢æ—¶ï¼‰</li>  
                            <li>å¯¹æ—¶å»¶æ•æ„Ÿ</li>  
                        </ul>  
                    </div>  
                </div>  

                <!-- CBFC æœºåˆ¶ -->  
                <div class="flow-control-column cbfc">  
                    <div class="fc-header cbfc">  
                        ğŸ”µ CBFC - Credit-Based Flow Control  
                    </div>  
                    <div class="info-box">  
                        <strong>æ ‡å‡†ï¼š</strong>UE Specification ç¬¬ 5.2 æ¡æ¬¾<br>  
                        <strong>æ§åˆ¶ç²’åº¦ï¼š</strong>è™šæ‹Ÿé€šé“ï¼ˆVCï¼‰çº§åˆ«ï¼Œæœ€å¤š 32 ä¸ª VC  
                    </div>  

                    <h3 style="color: var(--accent-cyan); margin-top: 1rem;">å·¥ä½œåŸç†</h3>  
                    <div class="fc-entity receiver">  
                        <div class="fc-entity-name">ğŸ“¥ æ¥æ”¶ç«¯</div>  
                        <div class="fc-state">  
                            ç»´æŠ¤ <strong>å¯ç”¨ä¿¡ç”¨è®¡æ•°å™¨</strong><br>  
                            æ¯æ”¶åˆ°ä¸€ä¸ªåŒ…ï¼Œ<strong>æ¶ˆè€—ä¿¡ç”¨</strong><br>  
                            å½“åŒ…è¢«å¤„ç†é‡Šæ”¾æ—¶ï¼Œ<br>  
                            é€šè¿‡ <strong>CC_Update æ¶ˆæ¯</strong><br>  
                            é€šçŸ¥å‘é€ç«¯å·²é‡Šæ”¾çš„ä¿¡ç”¨  
                        </div>  
                    </div>  

                    <div class="fc-message-flow">  
                        <span class="fc-arrow">â†•</span>  
                    </div>  

                    <div class="fc-entity sender">  
                        <div class="fc-entity-name">ğŸ“¤ å‘é€ç«¯</div>  
                        <div class="fc-state">  
                            ç»´æŠ¤ <strong>ä¿¡ç”¨ä½™é¢è®¡æ•°å™¨</strong><br>  
                            åªæœ‰å½“ <strong>ä¿¡ç”¨ > 0</strong> æ—¶æ‰èƒ½å‘é€<br>  
                            å‘é€åŒ…æ—¶ <strong>æ¶ˆè€—ä¿¡ç”¨</strong><br>  
                            æ”¶åˆ° <strong>CC_Update</strong> æ—¶ <strong>æ¢å¤ä¿¡ç”¨</strong>  
                        </div>  
                    </div>  

                    <div class="info-box" style="margin-top: 1.5rem;">  
                        <strong>ç‰¹ç‚¹ï¼š</strong>  
                        <ul style="margin-top: 0.5rem;">  
                            <li>åŠ¨æ€ä¿¡ç”¨ç®¡ç†æœºåˆ¶</li>  
                            <li>ç²¾ç»†åŒ–æµé‡æ§åˆ¶</li>  
                            <li>å®¹é”™èƒ½åŠ›å¼º</li>  
                            <li>éœ€è¦å®šæœŸåé¦ˆæ¶ˆæ¯</li>  
                        </ul>  
                    </div>  
                </div>  
            </div>  
        </section>  

        <!-- æ—¶åºå¯¹æ¯”è§†å›¾ -->  
        <section class="section mb-3 view-section" id="sequence-view">  
            <h2 class="section-title">â±ï¸ æ—¶åºå¯¹æ¯”</h2>  

            <h3 style="color: var(--accent-orange); margin-bottom: 1rem;">PFC æµæ§æ—¶åº</h3>  
            <div class="timeline-diagram">  
                <div class="timeline-track">  
                    <div class="timeline-label">å‘é€ç«¯</div>  
                    <div class="timeline-events" id="pfc-sender-timeline">  
                        <div class="timeline-line"></div>  
                    </div>  
                </div>  
                <div class="timeline-track">  
                    <div class="timeline-label">æ¥æ”¶ç«¯</div>  
                    <div class="timeline-events" id="pfc-receiver-timeline">  
                        <div class="timeline-line"></div>  
                    </div>  
                </div>  
                <div class="timeline-track">  
                    <div class="timeline-label">ç¼“å†²å ç”¨</div>  
                    <div class="timeline-events" id="pfc-buffer-timeline">  
                        <div class="timeline-line"></div>  
                    </div>  
                </div>  
            </div>  

            <h3 style="color: var(--accent-blue); margin: 2rem 0 1rem;">CBFC æµæ§æ—¶åº</h3>  
            <div class="timeline-diagram">  
                <div class="timeline-track">  
                    <div class="timeline-label">å‘é€ç«¯</div>  
                    <div class="timeline-events" id="cbfc-sender-timeline">  
                        <div class="timeline-line"></div>  
                    </div>  
                </div>  
                <div class="timeline-track">  
                    <div class="timeline-label">æ¥æ”¶ç«¯</div>  
                    <div class="timeline-events" id="cbfc-receiver-timeline">  
                        <div class="timeline-line"></div>  
                    </div>  
                </div>  
                <div class="timeline-track">  
                    <div class="timeline-label">ä¿¡ç”¨å€¼</div>  
                    <div class="timeline-events" id="cbfc-credit-timeline">  
                        <div class="timeline-line"></div>  
                    </div>  
                </div>  
            </div>  

            <!-- ç¼“å†²åŒºå¯è§†åŒ– -->  
            <h3 style="color: var(--accent-cyan); margin-top: 2rem;">æ¥æ”¶ç¼“å†²åŒºçŠ¶æ€å˜åŒ–</h3>  
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">  
                <div>  
                    <h4 style="color: var(--accent-orange);">PFC ç¼“å†²ç­–ç•¥</h4>  
                    <div class="buffer-viz">  
                        <div class="buffer-name">ç¼“å†²åŒºå ç”¨</div>  
                        <div class="buffer-bar">  
                            <div class="buffer-fill" id="pfc-buffer-fill" style="width: 30%;"></div>  
                            <div class="buffer-threshold" style="left: 80%;"></div>  
                        </div>  
                        <div class="buffer-info">  
                            <span>å·²ç”¨: <span id="pfc-used">30</span>%</span>  
                            <span>é˜ˆå€¼: 80%</span>  
                        </div>  
                    </div>  
                    <div class="info-box">  
                        <strong>é˜ˆå€¼è§¦å‘ï¼š</strong>å½“å ç”¨è¶…è¿‡ 80% æ—¶å‘é€ PAUSE  
                    </div>  
                </div>  
                <div>  
                    <h4 style="color: var(--accent-blue);">CBFC ä¿¡ç”¨ç­–ç•¥</h4>  
                    <div class="buffer-viz">  
                        <div class="buffer-name">å¯ç”¨ä¿¡ç”¨</div>  
                        <div class="buffer-bar">  
                            <div class="buffer-fill" id="cbfc-credit-fill" style="width: 65%; background: linear-gradient(90deg, var(--accent-green), var(--accent-cyan));"></div>  
                        </div>  
                        <div class="buffer-info">  
                            <span>å¯ç”¨: <span id="cbfc-credit">650</span>/1000 å•å…ƒ</span>  
                            <span>å·²æ¶ˆè€—: 350</span>  
                        </div>  
                    </div>  
                    <div class="info-box">  
                        <strong>åŠ¨æ€åˆ†é…ï¼š</strong>æ¯æ”¶ä¸€åŒ…æ¶ˆè€—ï¼Œæ¯é‡Šæ”¾ä¸€åŒ…æ¢å¤  
                    </div>  
                </div>  
            </div>  
        </section>  

        <!-- ç‰¹æ€§å¯¹æ¯”è§†å›¾ -->  
        <section class="section mb-3 view-section" id="comparison-view">  
            <h2 class="section-title">ğŸ”€ ç‰¹æ€§å¯¹æ¯”è¡¨</h2>  

            <table class="comparison-table">  
                <thead>  
                    <tr>  
                        <th style="width: 25%;">ç‰¹æ€§ç»´åº¦</th>  
                        <th style="width: 37.5%;">PFC (Priority Flow Control)</th>  
                        <th style="width: 37.5%;">CBFC (Credit-Based Flow Control)</th>  
                    </tr>  
                </thead>  
                <tbody>  
                    <tr>  
                        <td class="feature-name">ğŸ“‹ æ ‡å‡†æ¥æº</td>  
                        <td class="pfc-feature">IEEE 802.1Q-2022 ç¬¬ 36 æ¡æ¬¾</td>  
                        <td class="cbfc-feature">UE Specification ç¬¬ 5.2 æ¡æ¬¾</td>  
                    </tr>  
                    <tr>  
                        <td class="feature-name">ğŸ¯ æ§åˆ¶ç²’åº¦</td>  
                        <td class="pfc-feature">8 ä¸ªä¼˜å…ˆçº§ï¼ˆCoS 0-7ï¼‰</td>  
                        <td class="cbfc-feature">æœ€å¤š 32 ä¸ªè™šæ‹Ÿé€šé“ï¼ˆVCï¼‰</td>  
                    </tr>  
                    <tr>  
                        <td class="feature-name">ğŸ”„ æ§åˆ¶æœºåˆ¶</td>  
                        <td class="pfc-feature">å¼€å…³å‹ï¼ˆXOFF/XONï¼‰</td>  
                        <td class="cbfc-feature">ä¿¡ç”¨åˆ¶ï¼ˆCreditï¼‰</td>  
                    </tr>  
                    <tr>  
                        <td class="feature-name">ğŸ“¨ åé¦ˆæ¶ˆæ¯</td>  
                        <td class="pfc-feature">PAUSE å¸§ï¼ˆæš‚åœ/æ¢å¤ï¼‰</td>  
                        <td class="cbfc-feature">CC_Update æˆ– CF_Update æ¶ˆæ¯</td>  
                    </tr>  
                    <tr>  
                        <td class="feature-name">â±ï¸ ååº”æ—¶é—´</td>  
                        <td class="pfc-feature">ç«‹å³åœæ­¢å‘é€</td>  
                        <td class="cbfc-feature">ç­‰å¾…ä¿¡ç”¨æ¢å¤åç»§ç»­</td>  
                    </tr>  
                    <tr>  
                        <td class="feature-name">ğŸ“¦ ç¼“å†²ç®¡ç†</td>  
                        <td class="pfc-feature">å…±äº«ç¼“å†²æ± ï¼Œé˜ˆå€¼è§¦å‘</td>  
                        <td class="cbfc-feature">æ¯ VC ç‹¬ç«‹ä¿¡ç”¨é™åˆ¶</td>  
                    </tr>  
                    <tr>  
                        <td class="feature-name">ğŸ›¡ï¸ å®¹é”™èƒ½åŠ›</td>  
                        <td class="pfc-feature">ç¼ºä¹æ¶ˆæ¯ä¸¢å¤±æ¢å¤</td>  
                        <td class="cbfc-feature">ç¯å½¢è®¡æ•°å™¨è‡ªåŠ¨æ¢å¤</td>  
                    </tr>  
                    <tr>  
                        <td class="feature-name">âš™ï¸ å®ç°å¤æ‚åº¦</td>  
                        <td class="pfc-feature">ç®€å•ï¼ŒçŠ¶æ€å°‘</td>  
                        <td class="cbfc-feature">å¤æ‚ï¼Œéœ€å¤šè®¡æ•°å™¨</td>  
                    </tr>  
                    <tr>  
                        <td class="feature-name">ğŸ“ˆ å¯æ‰©å±•æ€§</td>  
                        <td class="pfc-feature">æœ‰é™ï¼Œ8 ä¸ªä¼˜å…ˆçº§</td>  
                        <td class="cbfc-feature">é«˜ï¼Œ32 ä¸ªè™šæ‹Ÿé€šé“</td>  
                    </tr>  
                    <tr>  
                        <td class="feature-name">ğŸŒ é€‚ç”¨åœºæ™¯</td>  
                        <td class="pfc-feature">æ•°æ®ä¸­å¿ƒã€ä¼ä¸šç½‘ç»œ</td>  
                        <td class="cbfc-feature">HPCã€AI è®­ç»ƒé›†ç¾¤</td>  
                    </tr>  
                    <tr>  
                        <td class="feature-name">â¸ï¸ é“¾è·¯åˆ©ç”¨ç‡</td>  
                        <td class="pfc-feature">æš‚åœæ—¶é“¾è·¯ç©ºé—²</td>  
                        <td class="cbfc-feature">æŒç»­æœ‰æ•ˆï¼Œå‡å°‘ç©ºé—²</td>  
                    </tr>  
                    <tr>  
                        <td class="feature-name">ğŸ”— æ—¶å»¶æ•æ„Ÿæ€§</td>  
                        <td class="pfc-feature">å¯¹é“¾è·¯å»¶è¿Ÿæ•æ„Ÿ</td>  
                        <td class="cbfc-feature">å¯¹é“¾è·¯å»¶è¿Ÿä¸æ•æ„Ÿ</td>  
                    </tr>  
                </tbody>  
            </table>  

            <!-- ä¼˜ç¼ºç‚¹åˆ†æ -->  
            <h3 style="color: var(--accent-cyan); margin-top: 2rem;">ä¼˜åŠ¿åˆ†æ</h3>  

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">  
                <div>  
                    <h4 style="color: var(--accent-orange); margin-bottom: 1rem;">PFC ä¼˜åŠ¿ âœ“</h4>  
                    <div class="module-box">  
                        <div class="module-detail">  
                            âœ… å®ç°ç®€å•ï¼Œæ˜“äºéƒ¨ç½²<br>  
                            âœ… æ— æ¶ˆæ¯å¼€é”€ï¼ˆé™æ­¢æ—¶ï¼‰<br>  
                            âœ… ååº”è¿…é€Ÿï¼Œç«‹å³æš‚åœ<br>  
                            âœ… å…¨å±€ç¼“å†²å…±äº«é«˜æ•ˆ<br>  
                            âœ… ä¸šç•Œå¹¿æ³›åº”ç”¨  
                        </div>  
                    </div>  
                </div>  
                <div>  
                    <h4 style="color: var(--accent-blue); margin-bottom: 1rem;">CBFC ä¼˜åŠ¿ âœ“</h4>  
                    <div class="module-box">  
                        <div class="module-detail">  
                            âœ… ç²’åº¦ç»†ï¼Œ32 ä¸ª VC<br>  
                            âœ… å®¹é”™æ€§å¼ºï¼Œæ¶ˆæ¯ä¸¢å¤±è‡ªæ¢å¤<br>  
                            âœ… å¯¹é“¾è·¯å»¶è¿Ÿä¸æ•æ„Ÿ<br>  
                            âœ… ç²¾ç»†åŒ–è°ƒåº¦å’Œè´Ÿè½½å‡è¡¡<br>  
                            âœ… é“¾è·¯åˆ©ç”¨ç‡æ›´é«˜  
                        </div>  
                    </div>  
                </div>  
            </div>  

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 1.5rem;">  
                <div>  
                    <h4 style="color: var(--accent-orange); margin-bottom: 1rem;">PFC åŠ£åŠ¿ âœ—</h4>
					                    <div class="module-box">  
                        <div class="module-detail">  
                            âŒ ç²’åº¦ç²—ï¼Œåªæœ‰ 8 ä¸ªä¼˜å…ˆçº§<br>  
                            âŒ æ§åˆ¶ç›²åŒºï¼ŒPAUSE æœŸé—´æ— åé¦ˆ<br>  
                            âŒ å¯¹é“¾è·¯å»¶è¿Ÿæ•æ„Ÿ<br>  
                            âŒ å…¨å±€æš‚åœå¯èƒ½å½±å“ä½ä¼˜å…ˆçº§<br>  
                            âŒ éš¾ä»¥åº”å¯¹é«˜å»¶è¿Ÿç½‘ç»œ  
                        </div>  
                    </div>  
                </div>  
                <div>  
                    <h4 style="color: var(--accent-blue); margin-bottom: 1rem;">CBFC åŠ£åŠ¿ âœ—</h4>  
                    <div class="module-box">  
                        <div class="module-detail">  
                            âŒ å®ç°å¤æ‚ï¼Œéœ€å¤šè®¡æ•°å™¨<br>  
                            âŒ å®šæœŸåé¦ˆæ¶ˆæ¯å¼€é”€<br>  
                            âŒ åˆå§‹åŒ–æ¡æ‰‹è¿‡ç¨‹å¤æ‚<br>  
                            âŒ è®¡æ•°å™¨æº¢å‡ºå¤„ç†å›°éš¾<br>  
                            âŒ ä¸šç•Œé‡‡ç”¨åº¦è¾ƒä½  
                        </div>  
                    </div>  
                </div>  
            </div>  
        </section>  

        <!-- PFC è¯¦ç»†åŸç† -->  
        <section class="section mb-3">  
            <h2 class="section-title">ğŸŸ  PFC è¯¦ç»†åŸç†</h2>  

            <h3 style="color: var(--accent-orange); margin-bottom: 1rem;">PFC PAUSE å¸§æ ¼å¼</h3>  
            <div class="module-box">  
                <div class="module-header">MAC Control å¸§ç»“æ„</div>  
                <div class="module-detail" style="font-family: var(--font-mono); font-size: 0.85em;">  
                    <strong>å¸§å¤´ï¼š</strong><br>  
                    â””â”€ ç›®æ ‡ MAC: 01:80:C2:00:00:01 (æ ‡å‡† PAUSE multicast)<br>  
                    â””â”€ æº MAC: å‘é€ç«¯ MAC åœ°å€<br>  
                    â””â”€ EtherType: 0x8808 (MAC Control)<br><br>  
                    
                    <strong>å¸§ä½“ï¼š</strong><br>  
                    â””â”€ Opcode: 0x0001 (PAUSE)<br>  
                    â””â”€ å‚æ•°å­—æ®µ (2 å­—èŠ‚):<br>  
                    &nbsp;&nbsp;&nbsp;â”œâ”€ ä¼˜å…ˆçº§ä½å›¾ (PFC_en, 8 bit): æŒ‡ç¤ºå“ªäº›ä¼˜å…ˆçº§è¢«æš‚åœ<br>  
                    &nbsp;&nbsp;&nbsp;â””â”€ æš‚åœæ—¶é—´ (pause_time, 16 bit): æ—¶é—´å•ä½ Ã— 512 ns<br><br>  
                    
                    <strong>ç¤ºä¾‹ï¼š</strong><br>  
                    PFC_en = 0x01 (ä»…ä¼˜å…ˆçº§ 0 æš‚åœ)<br>  
                    pause_time = 1000 (æš‚åœ 512 Î¼s)  
                </div>  
            </div>  

            <h3 style="color: var(--accent-orange); margin-top: 2rem; margin-bottom: 1rem;">PFC å·¥ä½œæµç¨‹</h3>  
            <div class="cbfc-steps">  
                <div class="cbfc-step" style="border-left-color: var(--accent-orange);">  
                    <div class="cbfc-step-title">1ï¸âƒ£ ç›‘æ§ç¼“å†²åŒº</div>  
                    <div class="cbfc-step-desc">  
                        æ¥æ”¶ç«¯æŒç»­ç›‘æ§ä¼˜å…ˆçº§ i çš„è¾“å…¥ç¼“å†²åŒºæ·±åº¦ã€‚  
                        å½“ç¼“å†²å ç”¨è¾¾åˆ°é…ç½®çš„ <strong>é«˜é˜ˆå€¼ï¼ˆHigh Thresholdï¼‰</strong> æ—¶è§¦å‘ã€‚  
                    </div>  
                </div>  

                <div class="cbfc-step" style="border-left-color: var(--accent-orange);">  
                    <div class="cbfc-step-title">2ï¸âƒ£ å‘é€ PAUSE å¸§</div>  
                    <div class="cbfc-step-desc">  
                        æ¥æ”¶ç«¯ç«‹å³ç”Ÿæˆå¹¶å‘é€ <strong>PFC PAUSE å¸§</strong>ï¼Œ  
                        è®¾ç½® PFC_en ä¸­å¯¹åº”ä¼˜å…ˆçº§çš„ä½ä¸º 1ï¼Œæš‚åœæ—¶é—´é€šå¸¸è®¾ç½®ä¸º  
                        <strong>å¯é¢„æœŸçš„æœ€å¤§æ¢å¤æ—¶é—´</strong>ã€‚  
                    </div>  
                </div>  

                <div class="cbfc-step" style="border-left-color: var(--accent-orange);">  
                    <div class="cbfc-step-title">3ï¸âƒ£ å‘é€ç«¯æ”¶åˆ° PAUSE</div>  
                    <div class="cbfc-step-desc">  
                        å‘é€ç«¯æ¥æ”¶åˆ° PAUSE å¸§åï¼Œ  
                        å¯¹åº”ä¼˜å…ˆçº§çš„æµé‡ <strong>ç«‹å³åœæ­¢</strong>ï¼Œ  
                        å¯åŠ¨ PAUSE è¶…æ—¶è®¡æ—¶å™¨ã€‚  
                    </div>  
                </div>  

                <div class="cbfc-step" style="border-left-color: var(--accent-orange);">  
                    <div class="cbfc-step-title">4ï¸âƒ£ ç¼“å†²æ¢å¤</div>  
                    <div class="cbfc-step-desc">  
                        æ¥æ”¶ç«¯å¤„ç†ç¼“å†²ä¸­çš„æ•°æ®ï¼Œ  
                        å½“ç¼“å†²å ç”¨é™åˆ° <strong>ä½é˜ˆå€¼ï¼ˆLow Thresholdï¼‰</strong> ä»¥ä¸‹æ—¶ï¼Œ  
                        æ¢å¤å˜ä¸ºå¯èƒ½ã€‚  
                    </div>  
                </div>  

                <div class="cbfc-step" style="border-left-color: var(--accent-orange);">  
                    <div class="cbfc-step-title">5ï¸âƒ£ å‘é€æ¢å¤ä¿¡å·ï¼ˆå¯é€‰ï¼‰</div>  
                    <div class="cbfc-step-desc">  
                        æ¥æ”¶ç«¯å¯é€‰æ‹©å‘é€æ–°çš„ PAUSE å¸§ï¼Œ  
                        è®¾ç½® pause_time = 0ï¼ˆè¡¨ç¤ºåœæ­¢æš‚åœï¼‰ã€‚  
                        æˆ–è€…ç­‰å¾…å‘é€ç«¯çš„ PAUSE è¶…æ—¶è‡ªåŠ¨æ¢å¤ã€‚  
                    </div>  
                </div>  

                <div class="cbfc-step" style="border-left-color: var(--accent-orange);">  
                    <div class="cbfc-step-title">6ï¸âƒ£ å‘é€ç«¯æ¢å¤å‘é€</div>  
                    <div class="cbfc-step-desc">  
                        æ”¶åˆ°æš‚åœæ¢å¤ä¿¡å·æˆ– PAUSE è¶…æ—¶åï¼Œ  
                        å‘é€ç«¯æ¢å¤è¯¥ä¼˜å…ˆçº§çš„æ•°æ®ä¼ è¾“ã€‚  
                    </div>  
                </div>  
            </div>  

            <h3 style="color: var(--accent-orange); margin-top: 2rem; margin-bottom: 1rem;">PFC é˜ˆå€¼å’Œæ—¶é—´ç®¡ç†</h3>  
            <div class="info-box">  
                <strong>ç¼“å†²é˜ˆå€¼è®¾è®¡ï¼š</strong>  
                <ul style="margin-top: 0.5rem;">  
                    <li><strong>High Threshold (é«˜é˜ˆå€¼)ï¼š</strong> é€šå¸¸ä¸ºç¼“å†²å®¹é‡çš„ 75-90%</li>  
                    <li><strong>Low Threshold (ä½é˜ˆå€¼)ï¼š</strong> é€šå¸¸ä¸ºç¼“å†²å®¹é‡çš„ 20-40%</li>  
                    <li><strong>é£é™©ï¼š</strong>å¦‚æœé«˜é˜ˆå€¼è®¾ç½®è¿‡ä½ï¼Œä¼šé¢‘ç¹å‘é€ PAUSEï¼Œé™ä½ååé‡ï¼›è¿‡é«˜åˆ™é£é™©åŒ…ä¸¢å¤±</li>  
                </ul>  
            </div>  

            <div class="warning-box">  
                <strong>PAUSE è¶…æ—¶è®¾ç½®ï¼š</strong>  
                <ul style="margin-top: 0.5rem;">  
                    <li>è¶…æ—¶æ—¶é—´ = <strong>é“¾è·¯å¾€è¿”å»¶è¿Ÿ (RTT) Ã— 2 + æœ€å¤§æŠ¥æ–‡ä¼ è¾“æ—¶é—´</strong></li>  
                    <li>å¿…é¡»è¶³å¤Ÿé•¿ä»¥å…è®¸å‘é€ç«¯åœæ­¢å‘é€</li>  
                    <li>è®¾ç½®è¿‡çŸ­ä¼šå¯¼è‡´æœªå……åˆ†åˆ©ç”¨é“¾è·¯ï¼›è¿‡é•¿åˆ™æ¢å¤ç¼“æ…¢</li>  
                    <li>å…¸å‹å€¼ï¼šä»¥å¤ªç½‘ä¸º 512 çº³ç§’çš„æ—¶é—´å•ä½ï¼Œpause_time å¸¸è®¾ä¸º 65535ï¼ˆæœ€å¤§å€¼ï¼‰</li>  
                </ul>  
            </div>  
        </section>  

        <!-- CBFC è¯¦ç»†åŸç† -->  
        <section class="section mb-3">  
            <h2 class="section-title">ğŸ”µ CBFC è¯¦ç»†åŸç†</h2>  

            <h3 style="color: var(--accent-blue); margin-bottom: 1rem;">CBFC æ¶ˆæ¯æ ¼å¼</h3>  

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem;">  
                <div>  
                    <h4 style="color: var(--accent-blue);">CC_Update (MAC Control å¸§)</h4>  
                    <div class="module-box">  
                        <div class="module-header">ä¿¡ç”¨æ›´æ–°å¸§ç»“æ„</div>  
                        <div class="module-detail" style="font-family: var(--font-mono); font-size: 0.85em;">  
                            <strong>å¸§å¤´ï¼š</strong><br>  
                            â””â”€ ç›®æ ‡ MAC: 01:80:C2:00:00:01<br>  
                            â””â”€ EtherType: 0x8808<br><br>  
                            
                            <strong>å¸§ä½“ï¼š</strong><br>  
                            â””â”€ Opcode: 0xFFFE (Organizationally Specific)<br>  
                            â””â”€ é›†å›¢ ID: 3 å­—èŠ‚<br>  
                            â””â”€ æ¶ˆæ¯ç±»å‹: 0x01 (CC_Update)<br>  
                            â””â”€ 16 ä¸ª VC çš„ä¿¡ç”¨:<br>  
                            &nbsp;&nbsp;â”œâ”€ VC[0]: 20 ä½ä¿¡ç”¨è®¡æ•°<br>  
                            &nbsp;&nbsp;â”œâ”€ VC[1]: 20 ä½ä¿¡ç”¨è®¡æ•°<br>  
                            &nbsp;&nbsp;â”œâ”€ ... (æœ€å¤š 16 ä¸ª)<br>  
                            &nbsp;&nbsp;â””â”€ VC[15]: 20 ä½ä¿¡ç”¨è®¡æ•°<br><br>  
                            
                            <strong>ç‰¹ç‚¹ï¼š</strong><br>  
                            â€¢ å‘¨æœŸæ€§å‘é€ï¼ˆé€šå¸¸ 100-500 Î¼sï¼‰<br>  
                            â€¢ æ¶ˆæ¯å¼€é”€ç›¸å¯¹è¾ƒå¤§<br>  
                            â€¢ æ”¯æŒå¤šä¸ª VC æ‰¹é‡æ›´æ–°  
                        </div>  
                    </div>  
                </div>  

                <div>  
                    <h4 style="color: var(--accent-blue);">CF_Update (CtlOS æ¶ˆæ¯)</h4>  
                    <div class="module-box">  
                        <div class="module-header">å¿«é€Ÿä¿¡ç”¨åé¦ˆ</div>  
                        <div class="module-detail" style="font-family: var(--font-mono); font-size: 0.85em;">  
                            <strong>64B/66B ç¼–ç æ ¼å¼ï¼š</strong><br>  
                            â””â”€ Sync Header: 0x10 (Control)<br>  
                            â””â”€ Block Type: 0x5C (CtlOS)<br>  
                            â””â”€ Message Type: 0x10 (CF_Update)<br><br>  
                            
                            <strong>æ¶ˆæ¯ä½“ï¼š</strong><br>  
                            â””â”€ VC1 ä¿¡ç”¨: 20 ä½<br>  
                            â””â”€ VC2 ä¿¡ç”¨: 20 ä½<br><br>  
                            
                            <strong>ç‰¹ç‚¹ï¼š</strong><br>  
                            â€¢ éšæ•°æ®åŒ…æ’å…¥ï¼Œ0 å¼€é”€<br>  
                            â€¢ å®æ—¶æ€§å¼º<br>  
                            â€¢ ä»…æ”¯æŒ 2 ä¸ªå…³é”® VC<br>  
                            â€¢ ç”¨äºå¿«é€Ÿé€šé“ä¼˜åŒ–  
                        </div>  
                    </div>  
                </div>  
            </div>  

            <h3 style="color: var(--accent-blue); margin-bottom: 1rem;">CBFC å·¥ä½œæµç¨‹</h3>  
            <div class="cbfc-steps">  
                <div class="cbfc-step" style="border-left-color: var(--accent-blue);">  
                    <div class="cbfc-step-title">1ï¸âƒ£ LLDP åˆå§‹åŒ–</div>  
                    <div class="cbfc-step-desc">  
                        æ¥æ”¶ç«¯é€šè¿‡ LLDP TLV é€šçŸ¥å‘é€ç«¯ï¼š<br>  
                        â€¢ æ¯ä¸ªè™šæ‹Ÿé€šé“çš„æ€»ä¿¡ç”¨æ•°ï¼ˆR_TotalCreditsï¼‰<br>  
                        â€¢ ä¿¡ç”¨å•å…ƒå¤§å°ï¼ˆR_CellSizeï¼Œé€šå¸¸ 64 å­—èŠ‚ï¼‰<br>  
                        â€¢ æ•°æ®åŒ…å¼€é”€ï¼ˆR_PacketOverheadï¼‰  
                    </div>  
                </div>  

                <div class="cbfc-step" style="border-left-color: var(--accent-blue);">  
                    <div class="cbfc-step-title">2ï¸âƒ£ å‘é€ç«¯é…ç½®</div>  
                    <div class="cbfc-step-desc">  
                        å‘é€ç«¯æ ¹æ®æ¥æ”¶ç«¯å‚æ•°è®¡ç®—ï¼š<br>  
                        â€¢ åˆå§‹ä¿¡ç”¨è®¡æ•°å™¨å€¼ = R_TotalCredits Ã— R_CellSize<br>  
                        â€¢ æ¯ä¸ªæ•°æ®åŒ…çš„å•å…ƒæ¶ˆè€— = âŒˆ(åŒ…å¤§å° + R_PacketOverhead) / R_CellSizeâŒ‰  
                    </div>  
                </div>  

                <div class="cbfc-step" style="border-left-color: var(--accent-blue);">  
                    <div class="cbfc-step-title">3ï¸âƒ£ å‘é€æ•°æ®</div>  
                    <div class="cbfc-step-desc">  
                        å‘é€ç«¯åªæœ‰åœ¨ <strong>S_VC_CC[i] â‰¥ æ‰€éœ€å•å…ƒæ•°</strong> æ—¶æ‰èƒ½å‘é€ï¼š<br>  
                        â€¢ æ£€æŸ¥è¯¥ VC çš„å½“å‰ä¿¡ç”¨ S_VC_CC[i]<br>  
                        â€¢ è®¡ç®—æ‰€éœ€å•å…ƒæ•°<br>  
                        â€¢ å‘é€åŒ…åç«‹å³æ‰£é™¤ä¿¡ç”¨<br>  
                        â€¢ è‹¥ä¿¡ç”¨ä¸è¶³åˆ™æš‚åœè¯¥ VC  
                    </div>  
                </div>  

                <div class="cbfc-step" style="border-left-color: var(--accent-blue);">  
                    <div class="cbfc-step-title">4ï¸âƒ£ æ¥æ”¶ç«¯æ¶ˆè€—ä¿¡ç”¨</div>  
                    <div class="cbfc-step-desc">  
                        æ¥æ”¶ç«¯æ¯æ”¶åˆ°ä¸€ä¸ªæ•°æ®åŒ…ï¼š<br>  
                        â€¢ å‡å°‘ R_VC_CC[i] ï¼ˆæœ¬åœ°å¯ç”¨ä¿¡ç”¨ï¼‰<br>  
                        â€¢ æ•°æ®åŒ…è¿›å…¥æ¥æ”¶ç¼“å†²<br>  
                        â€¢ ç»§ç»­ç›‘æ§å‰©ä½™ä¿¡ç”¨  
                    </div>  
                </div>  

                <div class="cbfc-step" style="border-left-color: var(--accent-blue);">  
                    <div class="cbfc-step-title">5ï¸âƒ£ ç¼“å†²å¤„ç†</div>  
                    <div class="cbfc-step-desc">  
                        æ¥æ”¶ç«¯å¤„ç†ç¼“å†²ä¸­çš„æ•°æ®åŒ…ï¼š<br>  
                        â€¢ æ•°æ®åŒ…äº¤ç»™ä¸Šå±‚åè®®æ ˆ<br>  
                        â€¢ é‡Šæ”¾æ¥æ”¶ç¼“å†²ç©ºé—´<br>  
                        â€¢ å¢åŠ  R_VC_CC[i] ï¼ˆæ¢å¤ä¿¡ç”¨ï¼‰<br>  
                        â€¢ å‡†å¤‡å‘é€ä¿¡ç”¨æ›´æ–°  
                    </div>  
                </div>  

                <div class="cbfc-step" style="border-left-color: var(--accent-blue);">  
                    <div class="cbfc-step-title">6ï¸âƒ£ å‘é€ä¿¡ç”¨æ›´æ–°</div>  
                    <div class="cbfc-step-desc">  
                        æ¥æ”¶ç«¯å®šæœŸæˆ–ç«‹å³å‘é€æ›´æ–°æ¶ˆæ¯ï¼š<br>  
                        â€¢ <strong>CC_Updateï¼š</strong>å‘¨æœŸæ€§å‘é€ï¼ˆ~200 Î¼sï¼‰ï¼ŒåŒ…å« 16 ä¸ª VC<br>  
                        â€¢ <strong>CF_Updateï¼š</strong>éšæ•°æ®åŒ…å‘é€ï¼Œä»… 2 ä¸ªå…³é”® VC  
                    </div>  
                </div>  

                <div class="cbfc-step" style="border-left-color: var(--accent-blue);">  
                    <div class="cbfc-step-title">7ï¸âƒ£ å‘é€ç«¯æ”¶åˆ°æ›´æ–°</div>  
                    <div class="cbfc-step-desc">  
                        å‘é€ç«¯æ¥æ”¶ä¿¡ç”¨æ›´æ–°æ¶ˆæ¯ï¼š<br>  
                        â€¢ è§£ææ–°çš„ä¿¡ç”¨å€¼<br>  
                        â€¢ æ›´æ–° S_VC_CC[i] = æ¥æ”¶ç«¯æŠ¥å‘Šçš„ R_VC_CC[i]<br>  
                        â€¢ å¦‚æœ S_VC_CC[i] > 0ï¼Œæ¢å¤æ•°æ®å‘é€<br>  
                        â€¢ ç»§ç»­æ•°æ®ä¼ è¾“æµç¨‹  
                    </div>  
                </div>  

                <div class="cbfc-step" style="border-left-color: var(--accent-blue);">  
                    <div class="cbfc-step-title">8ï¸âƒ£ åŠ¨æ€å¹³è¡¡</div>  
                    <div class="cbfc-step-desc">  
                        ç³»ç»Ÿè¿›å…¥ç¨³æ€å¾ªç¯ï¼š<br>  
                        â€¢ å‘é€é€Ÿç‡ â‰ˆ æ¥æ”¶/å¤„ç†é€Ÿç‡<br>  
                        â€¢ ä¿¡ç”¨æ¶ˆè€—ä¸æ¢å¤ä¿æŒå¹³è¡¡<br>  
                        â€¢ æ¥æ”¶ç¼“å†²ç¨³å®šåœ¨æŸä¸ªåˆç†æ°´å¹³<br>  
                        â€¢ æ— ä¸¢åŒ…ï¼Œæ— æµªè´¹  
                    </div>  
                </div>  
            </div>  

            <h3 style="color: var(--accent-blue); margin-top: 2rem; margin-bottom: 1rem;">ä¿¡ç”¨è®¡ç®—ç¤ºä¾‹</h3>  
            <div class="module-box">  
                <div class="module-header">æ•°å€¼è®¡ç®—ç¤ºä¾‹</div>  
                <div class="module-detail">  
                    <strong>é…ç½®å‚æ•°ï¼š</strong><br>  
                    â€¢ R_TotalCredits = 1000 ä¸ªä¿¡ç”¨å•å…ƒ<br>  
                    â€¢ R_CellSize = 64 å­—èŠ‚<br>  
                    â€¢ R_PacketOverhead = 0 å­—èŠ‚<br>  
                    â€¢ åˆå§‹ R_VC_CC[0] = 1000 Ã— 64 = 64,000 å­—èŠ‚<br><br>  

                    <strong>åœºæ™¯ 1ï¼šå‘é€ 1500 å­—èŠ‚çš„åŒ…</strong><br>  
                    â€¢ æ‰€éœ€å•å…ƒæ•° = âŒˆ(1500 + 0) / 64âŒ‰ = âŒˆ23.44âŒ‰ = 24 å•å…ƒ<br>  
                    â€¢ å‘é€ç«¯æ£€æŸ¥ï¼šS_VC_CC[0] â‰¥ 24ï¼Ÿ âœ“<br>  
                    â€¢ å‘é€åŒ…åï¼šS_VC_CC[0] -= 24 â†’ å‰©ä½™ 976 å•å…ƒ<br>  
                    â€¢ æ¥æ”¶ç«¯ï¼šR_VC_CC[0] -= 24 â†’ å‰©ä½™ 976 å•å…ƒ<br><br>  

                    <strong>åœºæ™¯ 2ï¼šæ¥æ”¶ç«¯å¤„ç†äº† 10 ä¸ªåŒ…ï¼Œæ¯ä¸ª 1500 å­—èŠ‚</strong><br>  
                    â€¢ æ€»å¤„ç†å­—èŠ‚æ•° = 10 Ã— 1500 = 15,000 å­—èŠ‚<br>  
                    â€¢ é‡Šæ”¾å•å…ƒæ•° = 15,000 / 64 = 234.375 â†’ 235 å•å…ƒï¼ˆå››èˆäº”å…¥ï¼‰<br>  
                    â€¢ æˆ–ç²¾ç¡®ï¼šâŒˆ15000 / 64âŒ‰ = 235 å•å…ƒ<br>  
                    â€¢ æ¢å¤åï¼šR_VC_CC[0] += 235 â†’ ç°ä¸º 1000 - 24 + 235 = 1211 å•å…ƒï¼Ÿ<br>  
                    â€¢ âš ï¸ éœ€è¦ç¯å½¢è®¡æ•°å™¨ç®¡ç†æº¢å‡ºï¼  
                </div>  
            </div>  

            <h3 style="color: var(--accent-blue); margin-top: 2rem; margin-bottom: 1rem;">ç¯å½¢è®¡æ•°å™¨å’Œæº¢å‡ºå¤„ç†</h3>  
            <div class="danger-box">  
                <strong>è®¡æ•°å™¨å®½åº¦ï¼š20 ä½ï¼ˆ0 åˆ° 1,048,575ï¼‰</strong><br><br>  
                
                <strong>ä¸ºä»€ä¹ˆéœ€è¦ç¯å½¢è®¡æ•°å™¨ï¼Ÿ</strong><br>  
                â€¢ é˜²æ­¢è®¡æ•°å™¨æ°¸è¿œå¢é•¿<br>  
                â€¢ æ”¯æŒæ— é™é•¿æ—¶é—´æ“ä½œ<br>  
                â€¢ èŠ‚çœå­˜å‚¨ç©ºé—´<br><br>  

                <strong>æº¢å‡ºå¤„ç†è§„åˆ™ï¼š</strong><br>  
                â€¢ æ‰€æœ‰è®¡æ•°å™¨æ“ä½œéƒ½æ˜¯æ¨¡ 2^20<br>  
                â€¢ (a + b) mod 2^20 å’Œ (a - b) mod 2^20 è‡ªåŠ¨å¤„ç†<br>  
                â€¢ å‘é€ç«¯éœ€è¦è·Ÿè¸ª"æ—¶ä»£" (epoch)ï¼Œä»¥ç†è§£æ¥æ”¶ç«¯çš„è®¡æ•°<br><br>  

                <strong>ç¤ºä¾‹ï¼š</strong><br>  
                â€¢ å½“å‰ S_VC_CC[0] = 1,048,500ï¼ˆæ¥è¿‘æº¢å‡ºï¼‰<br>  
                â€¢ æ¥æ”¶ç«¯æŠ¥å‘Š R_VC_CC[0] = 100ï¼ˆå·²ç¯ç»•ï¼‰<br>  
                â€¢ å‘é€ç«¯éœ€è¦ç†è§£è¿™æ˜¯ä¸€ä¸ªæ–°çºªå…ƒï¼Œä¸èƒ½ç®€å•ç›¸å‡  
            </div>  
        </section>  

        <!-- æµæ§æ€§èƒ½å¯¹æ¯” -->  
        <section class="section mb-3">  
            <h2 class="section-title">ğŸ“Š æ€§èƒ½æŒ‡æ ‡å¯¹æ¯”</h2>  

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">  
                <div>  
                    <h3 style="color: var(--accent-orange); margin-bottom: 1rem;">PFC æ€§èƒ½æŒ‡æ ‡</h3>  
                    <div class="module-box">  
                        <div class="module-header">ååº”æ—¶é—´</div>  
                        <div class="module-detail">  
                            <strong>ä»ç¼“å†²æ»¡åˆ°æµé‡åœæ­¢ï¼š</strong><br>  
                            ~1-2 Î¼sï¼ˆä»…åŒ…æ‹¬å¸§ä¼ è¾“æ—¶é—´ï¼‰<br><br>  
                            
                            <strong>ä»æµé‡æ¢å¤è¯·æ±‚åˆ°æ¢å¤å‘é€ï¼š</strong><br>  
                            ~1-2 Î¼sï¼ˆåŒä¸Šï¼‰<br><br>  
                            
                            <strong>å…³é”®å› ç´ ï¼š</strong><br>  
                            â€¢ MAC å¤„ç†å»¶è¿Ÿ<br>  
                            â€¢ PHY å»¶è¿Ÿ<br>  
                            â€¢ é“¾è·¯ä¼ æ’­å»¶è¿Ÿ  
                        </div>  
                    </div>  

                    <div class="module-box" style="margin-top: 1rem;">  
                        <div class="module-header">æ¶ˆæ¯å¼€é”€</div>  
                        <div class="module-detail">  
                            <strong>PAUSE å¸§å¤§å°ï¼š</strong> 60 å­—èŠ‚ï¼ˆæœ€å°ï¼‰<br>  
                            <strong>å‘é€é¢‘ç‡ï¼š</strong> ä»…åœ¨æ‹¥å¡æ—¶<br>  
                            <strong>é™æ­¢çŠ¶æ€å¼€é”€ï¼š</strong> 0ï¼ˆæ— æ¶ˆæ¯ï¼‰<br><br>  
                            
                            <strong>å…¸å‹åœºæ™¯ï¼š</strong><br>  
                            â€¢ æ‹¥å¡ â†’ æ¯ 100 Î¼s å‘é€ 1 ä¸ª PAUSE<br>  
                            â€¢ å¸¦å®½å ç”¨ = 60 B Ã— 10 kHz = 4.8 Mbpsï¼ˆåœ¨ 100 Gbps ä¸Šä»… 0.005%ï¼‰  
                        </div>  
                    </div>  

                    <div class="module-box" style="margin-top: 1rem;">  
                        <div class="module-header">ç¼“å†²åˆ©ç”¨ç‡</div>  
                        <div class="module-detail">  
                            <strong>å¹³å‡å ç”¨ï¼š</strong> 50-70%<br>  
                            <strong>å³°å€¼å ç”¨ï¼š</strong> 85-95%<br>  
                            <strong>æµªè´¹ï¼ˆDeadbandï¼‰ï¼š</strong> 10-25%<br><br>  
                            
                            <strong>åŸå› ï¼š</strong><br>  
                            â€¢ é«˜é˜ˆå€¼ä¸ä½é˜ˆå€¼é—´çš„ä¸æ´»è·ƒåŒº<br>  
                            â€¢ PAUSE å·²å‘é€ä½†è¿˜æœªç”Ÿæ•ˆæœŸé—´<br>  
                            â€¢ é£é™©è§„é¿çš„ç¼“å†²é¢„ç•™  
                        </div>  
                    </div>  
                </div>  

                <div>  
                    <h3 style="color: var(--accent-blue); margin-bottom: 1rem;">CBFC æ€§èƒ½æŒ‡æ ‡</h3>  
                    <div class="module-box">  
                        <div class="module-header">ååº”æ—¶é—´</div>  
                        <div class="module-detail">  
                            <strong>ä»ç¼“å†²æ»¡åˆ°æµé‡åœæ­¢ï¼š</strong><br>  
                            ~ä¿¡ç”¨åˆ° 0 æ‰€éœ€çš„æ—¶é—´<br><br>  
                            
                            <strong>ä»ç¼“å†²é‡Šæ”¾åˆ°æµé‡æ¢å¤ï¼š</strong><br>  
                            ~CC_Update æˆ– CF_Update å‘é€å»¶è¿Ÿ<br>  
                            ï¼ˆCC_Update: ~100-500 Î¼sï¼‰<br><br>  
                            
                            <strong>ç‰¹æ€§ï¼š</strong><br>  
                            â€¢ ååº”ä¸å¦‚ PFC è¿…é€Ÿ<br>  
                            â€¢ ä½†å¯¹é“¾è·¯å»¶è¿Ÿé²æ£’<br>  
                            â€¢ å¯é¢„æµ‹çš„åé¦ˆå‘¨æœŸ  
                        </div>  
                    </div>  

                    <div class="module-box" style="margin-top: 1rem;">  
                        <div class="module-header">æ¶ˆæ¯å¼€é”€</div>  
                        <div class="module-detail">  
                            <strong>CC_Update å¸§å¤§å°ï¼š</strong> ~100 å­—èŠ‚<br>  
                            <strong>CF_Update å¤§å°ï¼š</strong> 0ï¼ˆéšæ•°æ®å‘é€ï¼‰<br>  
                            <strong>å‘é€é¢‘ç‡ï¼š</strong> å®šæœŸï¼ˆ~200 Î¼sï¼‰<br><br>  
                            
                            <strong>å…¸å‹åœºæ™¯ï¼š</strong><br>  
                            â€¢ CC_Update: 100 B Ã— 5 kHz = 4 Mbps<br>  
                            â€¢ CF_Update: 0ï¼ˆåµŒå…¥æ¨¡å¼ï¼‰<br>  
                            â€¢ æ€»å¼€é”€ï¼š~0.004% çš„ 100 Gbps  
                        </div>  
                    </div>  

                    <div class="module-box" style="margin-top: 1rem;">  
                        <div class="module-header">ç¼“å†²åˆ©ç”¨ç‡</div>  
                        <div class="module-detail">  
                            <strong>å¹³å‡å ç”¨ï¼š</strong> 60-80%<br>  
                            <strong>å³°å€¼å ç”¨ï¼š</strong> 90-98%<br>  
                            <strong>æµªè´¹ï¼ˆDeadbandï¼‰ï¼š</strong> 2-10%<br><br>  
                            
                            <strong>ä¼˜åŠ¿ï¼š</strong><br>  
                            â€¢ åŠ¨æ€ä¿¡ç”¨ç®¡ç†ï¼Œé«˜æ•ˆåˆ©ç”¨<br>  
                            â€¢ ä¸éœ€è¦ç¡¬é˜ˆå€¼<br>  
                            â€¢ å¤š VC ç‹¬ç«‹è°ƒåº¦  
                        </div>  
                    </div>  
                </div>  
            </div>  

            <!-- é“¾è·¯åˆ©ç”¨ç‡å¯¹æ¯”å›¾è¡¨ -->  
            <h3 style="color: var(--accent-cyan); margin-top: 2rem; margin-bottom: 1rem;">ğŸ’¾ é“¾è·¯åˆ©ç”¨ç‡å¯¹æ¯”</h3>  
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">  
                <div>  
                    <div class="buffer-viz">  
                        <div class="buffer-name">PFC é“¾è·¯åˆ©ç”¨ç‡</div>  
                        <div class="buffer-bar">  
                            <div class="buffer-fill" style="width: 75%; background: var(--accent-orange);">75%</div>  
                        </div>  
                        <div class="buffer-info">  
                            <span>æœ‰æ•ˆæ•°æ®ï¼š75%</span>  
                            <span>PAUSE æ§åˆ¶ï¼š1%</span>  
                            <span>ç©ºé—²æœŸï¼š24%</span>  
                        </div>  
                    </div>  
                    <p style="font-size: 0.85em; color: var(--text-secondary); margin-top: 0.5rem;">  
                        æš‚åœæœŸé—´é“¾è·¯ç©ºé—²ï¼Œé™ä½åˆ©ç”¨ç‡  
                    </p>  
                </div>  

                <div>  
                    <div class="buffer-viz">  
                        <div class="buffer-name">CBFC é“¾è·¯åˆ©ç”¨ç‡</div>  
                        <div class="buffer-bar">  
                            <div class="buffer-fill" style="width: 92%; background: var(--accent-blue);">92%</div>  
                        </div>  
                        <div class="buffer-info">  
                            <span>æœ‰æ•ˆæ•°æ®ï¼š92%</span>  
                            <span>CC_Updateï¼š0.1%</span>  
                            <span>ç©ºé—²æœŸï¼š7.9%</span>  
                        </div>  
                    </div>  
                    <p style="font-size: 0.85em; color: var(--text-secondary); margin-top: 0.5rem;">  
                        åŠ¨æ€æµæ§ï¼ŒæŒç»­å‘é€ï¼Œåˆ©ç”¨ç‡æ›´é«˜  
                    </p>  
                </div>  
            </div>  
        </section>  

        <!-- æ•…éšœåœºæ™¯å¯¹æ¯” -->  
        <section class="section mb-3">  
            <h2 class="section-title">âš ï¸ æ•…éšœåœºæ™¯å¯¹æ¯”</h2>  

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">  
                <div>  
                    <h3 style="color: var(--accent-orange); margin-bottom: 1rem;">PFC æ•…éšœåœºæ™¯</h3>  

                    <div class="danger-box" style="margin-bottom: 1rem;">  
                        <strong>åœºæ™¯ 1ï¼šPAUSE å¸§ä¸¢å¤±</strong><br>  
                        æ¥æ”¶ç«¯å‘é€çš„ PAUSE å¸§åœ¨ç½‘ç»œä¸­ä¸¢å¤±ã€‚  
                        <br><em>åæœï¼š</em>å‘é€ç«¯æ— æ³•åœæ­¢ï¼Œç¼“å†²å¯èƒ½æº¢å‡ºå¯¼è‡´ä¸¢åŒ…ã€‚  
                        <br><em>æ¢å¤ï¼š</em>ä¾èµ–é‡ä¼ ï¼ˆæ¦‚ç‡æä½ï¼‰æˆ–è¶…æ—¶ã€‚  
                    </div>  

                    <div class="danger-box" style="margin-bottom: 1rem;">  
                        <strong>åœºæ™¯ 2ï¼šè®¡æ—¶å™¨å¤±æ•ˆ</strong><br>  
                        å‘é€ç«¯çš„ PAUSE è¶…æ—¶è®¡æ—¶å™¨å‡ºæ•…éšœã€‚  
                        <br><em>åæœï¼š</em>æµé‡æ— æ³•æ¢å¤ï¼Œé“¾è·¯æ­»é”ã€‚  
                        <br><em>æ¢å¤ï¼š</em>éœ€è¦æ‰‹åŠ¨å¹²é¢„æˆ–ç¡¬ä»¶é‡å¯ã€‚  
                    </div>  

                    <div class="danger-box" style="margin-bottom: 1rem;">
                        <strong>åœºæ™¯ 3ï¼šé•¿å»¶è¿Ÿç½‘ç»œ</strong><br>
                        åœ¨é«˜å»¶è¿Ÿç½‘ç»œä¸­ï¼ˆå¦‚è·¨åœ°åŸŸï¼‰ï¼ŒPAUSE è¶…æ—¶è®¾ç½®å›°éš¾ã€‚
                        <br><em>åæœï¼š</em>è¦ä¹ˆé¢‘ç¹è¯¯è§¦å‘ PAUSEï¼Œè¦ä¹ˆ PAUSE ä¸ç”Ÿæ•ˆã€‚
                        <br><em>æ¢å¤ï¼š</em>ä¾èµ–é“¾è·¯ä¼˜åŒ–æˆ–åˆ‡æ¢åˆ° CBFCã€‚
                    </div>

                    <div class="danger-box" style="margin-bottom: 1rem;">
                        <strong>åœºæ™¯ 4ï¼šä¼˜å…ˆçº§é—´å¹²æ‰°</strong><br>
                        æŸä¸ªä¼˜å…ˆçº§æ‹¥å¡ï¼Œå½±å“å…¶ä»–ä¼˜å…ˆçº§çš„æµé‡ã€‚
                        <br><em>åæœï¼š</em>ä½ä¼˜å…ˆçº§è¢«å…¨å±€æš‚åœï¼Œåˆ©ç”¨ç‡ä½ã€‚
                        <br><em>æ¢å¤ï¼š</em>é€šè¿‡ä¼˜å…ˆçº§éš”ç¦»æˆ–å‡çº§åˆ°æ›´å¤šä¼˜å…ˆçº§æ•°ã€‚
                    </div>
                </div>

                <div>
                    <h3 style="color: var(--accent-blue); margin-bottom: 1rem;">CBFC æ•…éšœåœºæ™¯</h3>

                    <div class="danger-box" style="margin-bottom: 1rem;">
                        <strong>åœºæ™¯ 1ï¼šCC_Update æ¶ˆæ¯ä¸¢å¤±</strong><br>
                        æ¥æ”¶ç«¯å‘é€çš„ CC_Update å¸§å®Œå…¨ä¸¢å¤±ã€‚
                        <br><em>åæœï¼š</em>å‘é€ç«¯ä¿¡ç”¨ä¸æ›´æ–°ï¼Œå¯èƒ½è€—å°½ã€‚
                        <br><em>æ¢å¤ï¼š</em>ç¯å½¢è®¡æ•°å™¨è‡ªåŠ¨æ£€æµ‹ï¼Œä¸‹ä¸€ä¸ªæ¶ˆæ¯æ¢å¤åŒæ­¥ã€‚
                    </div>

                    <div class="danger-box" style="margin-bottom: 1rem;">
                        <strong>åœºæ™¯ 2ï¼šè®¡æ•°å™¨æº¢å‡ºé”™è¯¯</strong><br>
                        20 ä½è®¡æ•°å™¨æ¨¡ 2^20 è¿ç®—å‡ºé”™ã€‚
                        <br><em>åæœï¼š</em>å‘é€ç«¯ä¿¡ç”¨è®¡ç®—é”™è¯¯ï¼Œå¯èƒ½æµæ§å¤±æ•ˆã€‚
                        <br><em>æ¢å¤ï¼š</em>éœ€è¦ä»”ç»†çš„æ¨¡è¿ç®—å®ç°ï¼Œé€šå¸¸é€šè¿‡ç¡¬ä»¶æ”¯æŒã€‚
                    </div>

                    <div class="danger-box" style="margin-bottom: 1rem;">
                        <strong>åœºæ™¯ 3ï¼šVC åˆå§‹åŒ–è¶…æ—¶</strong><br>
                        LLDP åå•†è¿‡ç¨‹ä¸­ï¼ŒæŸä¸ª VC çš„æ¡æ‰‹æ²¡æœ‰å®Œæˆã€‚
                        <br><em>åæœï¼š</em>è¯¥ VC æ— æ³•æ¿€æ´»ï¼Œæµé‡å—é˜»ã€‚
                        <br><em>æ¢å¤ï¼š</em>é‡æ–°å¯åŠ¨é“¾è·¯æˆ–æ‰‹åŠ¨å¹²é¢„ã€‚
                    </div>

                    <div class="danger-box" style="margin-bottom: 1rem;">
                        <strong>åœºæ™¯ 4ï¼šä¿¡ç”¨åˆ†é…ä¸å‡</strong><br>
                        æ¥æ”¶ç«¯é”™è¯¯åœ°åˆ†é… VC çš„æ€»ä¿¡ç”¨ï¼Œå¯¼è‡´æŸäº› VC é•¿æœŸæŒ¨é¥¿ã€‚
                        <br><em>åæœï¼š</em>æŸä¸ª VC ååé‡ä½ï¼Œå½±å“åº”ç”¨æ€§èƒ½ã€‚
                        <br><em>æ¢å¤ï¼š</em>è°ƒæ•´ VC_CreditLimitï¼Œé‡æ–°åå•†ã€‚
                    </div>
                </div>
            </div>
        </section>

        <!-- åº”ç”¨åœºæ™¯ -->
        <section class="section mb-3">
            <h2 class="section-title">ğŸ¢ åº”ç”¨åœºæ™¯åˆ†æ</h2>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                <div>
                    <h3 style="color: var(--accent-orange); margin-bottom: 1rem;">PFC é€‚ç”¨åœºæ™¯ âœ“</h3>
                    <div class="warning-box">
                        <strong>æ•°æ®ä¸­å¿ƒç½‘ç»œ</strong><br>
                        â€¢ äº¤æ¢æœºå’Œ NIC é—´çš„æµæ§<br>
                        â€¢ ä»¥å¤ªç½‘æ¶æ„ç›¸å¯¹ç®€å•<br>
                        â€¢ é“¾è·¯å»¶è¿Ÿå¯é¢„æµ‹
                    </div>

                    <div class="warning-box">
                        <strong>ä¼ä¸šç½‘ç»œ</strong><br>
                        â€¢ å¹¿æ³›æ”¯æŒï¼Œå…¼å®¹æ€§å¥½<br>
                        â€¢ ç®¡ç†å‘˜ç†Ÿæ‚‰åº¦é«˜<br>
                        â€¢ æ•…éšœè¯Šæ–­å·¥å…·å®Œå–„
                    </div>

                    <div class="warning-box">
                        <strong>ä¼ ç»Ÿå­˜å‚¨ç½‘ç»œ</strong><br>
                        â€¢ iSCSI / Fibre Channel over Ethernet<br>
                        â€¢ å¯é ä¼ è¾“éœ€æ±‚å¼º<br>
                        â€¢ é“¾è·¯è·ç¦»çŸ­
                    </div>

                    <div class="info-box" style="margin-top: 1rem;">
                        <strong>æ€§èƒ½æŒ‡æ ‡ï¼š</strong><br>
                        ä¸¢åŒ…ç‡ï¼š< 10^-15<br>
                        å»¶è¿Ÿå¢åŠ ï¼š< 10 Î¼s<br>
                        ååé‡å½±å“ï¼šâ‰ˆ 5-15%
                    </div>
                </div>

                <div>
                    <h3 style="color: var(--accent-blue); margin-bottom: 1rem;">CBFC é€‚ç”¨åœºæ™¯ âœ“</h3>
                    <div class="info-box">
                        <strong>HPC é›†ç¾¤ç½‘ç»œ</strong><br>
                        â€¢ AI è®­ç»ƒã€ç§‘å­¦è®¡ç®—<br>
                        â€¢ å¯¹å»¶è¿Ÿæå…¶æ•æ„Ÿ<br>
                        â€¢ éœ€è¦å¤šè™šæ‹Ÿé€šé“éš”ç¦»
                    </div>

                    <div class="info-box">
                        <strong>è¶…å¤§è§„æ¨¡æ•°æ®ä¸­å¿ƒ</strong><br>
                        â€¢ äº‘è®¡ç®—åŸºç¡€è®¾æ–½<br>
                        â€¢ éœ€è¦ç»†ç²’åº¦æµæ§<br>
                        â€¢ é“¾è·¯è·ç¦»å¯èƒ½è¾ƒè¿œ
                    </div>

                    <div class="info-box">
                        <strong>åŠ é€Ÿå™¨ç½‘ç»œï¼ˆGPU/TPUï¼‰</strong><br>
                        â€¢ åˆ†å¸ƒå¼æ·±åº¦å­¦ä¹ <br>
                        â€¢ ä½å»¶è¿Ÿè¦æ±‚<br>
                        â€¢ å¤šè·¯å¤ç”¨åœºæ™¯
                    </div>

                    <div class="info-box" style="margin-top: 1rem;">
                        <strong>æ€§èƒ½æŒ‡æ ‡ï¼š</strong><br>
                        ä¸¢åŒ…ç‡ï¼š< 10^-17<br>
                        å»¶è¿Ÿå¢åŠ ï¼š< 1 Î¼s<br>
                        ååé‡å½±å“ï¼šâ‰ˆ 1-5%
                    </div>
                </div>
            </div>

            <h3 style="color: var(--accent-cyan); margin-top: 2rem; margin-bottom: 1rem;">ğŸ¯ é€‰æ‹©çŸ©é˜µ</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th style="width: 25%;">é€‰æ‹©æ¡ä»¶</th>
                        <th style="width: 37.5%;">å€¾å‘ PFC</th>
                        <th style="width: 37.5%;">å€¾å‘ CBFC</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="feature-name">ç³»ç»Ÿå¤æ‚åº¦</td>
                        <td class="pfc-feature">ä½ âœ“</td>
                        <td class="cbfc-feature">é«˜</td>
                    </tr>
                    <tr>
                        <td class="feature-name">æˆæœ¬è€ƒè™‘</td>
                        <td class="pfc-feature">ä½æˆæœ¬ âœ“</td>
                        <td class="cbfc-feature">é«˜æˆæœ¬</td>
                    </tr>
                    <tr>
                        <td class="feature-name">é“¾è·¯å»¶è¿Ÿ</td>
                        <td class="pfc-feature">çŸ­é“¾æ¥ âœ“</td>
                        <td class="cbfc-feature">é•¿é“¾æ¥ âœ“</td>
                    </tr>
                    <tr>
                        <td class="feature-name">VC æ•°é‡éœ€æ±‚</td>
                        <td class="pfc-feature">8 ä¸ªè¶³å¤Ÿ âœ“</td>
                        <td class="cbfc-feature">éœ€è¦ > 16 âœ“</td>
                    </tr>
                    <tr>
                        <td class="feature-name">å®æ—¶æ€§è¦æ±‚</td>
                        <td class="pfc-feature">ä¸­ç­‰ âœ“</td>
                        <td class="cbfc-feature">æé«˜ âœ“</td>
                    </tr>
                    <tr>
                        <td class="feature-name">å®¹é”™éœ€æ±‚</td>
                        <td class="pfc-feature">åŸºç¡€</td>
                        <td class="cbfc-feature">å¼º âœ“</td>
                    </tr>
                    <tr>
                        <td class="feature-name">ä¸šç•Œæ”¯æŒ</td>
                        <td class="pfc-feature">å¹¿æ³› âœ“</td>
                        <td class="cbfc-feature">æ–°å…´</td>
                    </tr>
                    <tr>
                        <td class="feature-name">æ˜“ç”¨æ€§</td>
                        <td class="pfc-feature">å¼€ç®±å³ç”¨ âœ“</td>
                        <td class="cbfc-feature">éœ€é…ç½®</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- çŠ¶æ€ç›‘æ§ -->
        <section class="section mb-3">
            <h2 class="section-title">ğŸ“Š å½“å‰åŠ¨ç”»çŠ¶æ€</h2>
            <div class="stat-grid">
                <div class="stat-item">
                    <div class="stat-label">å½“å‰æ­¥éª¤</div>
                    <div class="stat-value" id="fc-current-step-num">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">PFC ç¼“å†²å ç”¨</div>
                    <div class="stat-value" id="fc-pfc-buffer-pct">30%</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">CBFC ä¿¡ç”¨å¯ç”¨</div>
                    <div class="stat-value" id="fc-cbfc-credit-pct">65%</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">åŠ¨ç”»é€Ÿåº¦</div>
                    <div class="stat-value" id="fc-speed-display">1.0x</div>
                </div>
            </div>
        </section>

    </div>

    <!-- é¡µè„š -->
    <div class="page-footer">
        <p>PFC vs CBFC æµæ§æœºåˆ¶å¯¹æ¯”åŠ¨ç”» | åŸºäº IEEE 802.1Q-2022 å’Œ UE Specification v1.0</p>
        <p>Copyright Â© 2025 Ultra Ethernet Consortiumâ„¢. All rights reserved.</p>
    </div>

    <!-- å¼•å…¥å…±ç”¨è„šæœ¬ -->
    <script src="common.js"></script>

    <!-- PFC vs CBFC å¯¹æ¯”åŠ¨ç”»è„šæœ¬ -->
    <script>
        (function() {
            'use strict';

            // ==================== åŠ¨ç”»é…ç½® ====================
            const COMPARISON_STEPS = [
                // PFC: æ¥æ”¶ç¼“å†²ä¸Šå‡
                {
                    name: 'PFC: ç¼“å†²ä¸Šå‡',
                    pfc: { sender: 'å‘é€æ•°æ®', receiver: 'ç¼“å†²ç´¯ç§¯', action: 'buffer-up' },
                    cbfc: { sender: 'å‘é€æ•°æ®', receiver: 'æ¶ˆè€—ä¿¡ç”¨', action: 'credit-down' },
                    metrics: { pfcBuf: 45, cbfcCredit: 60 }
                },
                // PFC: ç¼“å†²è¾¾åˆ°é˜ˆå€¼
                {
                    name: 'PFC: è§¦å‘ PAUSE',
                    pfc: { sender: 'ç­‰å¾…', receiver: 'å‘é€ PAUSE', action: 'pause-send' },
                    cbfc: { sender: 'ç»§ç»­å‘é€', receiver: 'æ›´æ–°ä¿¡ç”¨', action: 'credit-update' },
                    metrics: { pfcBuf: 82, cbfcCredit: 55 }
                },
                // PFC: å‘é€ç«¯æ”¶åˆ° PAUSE
                {
                    name: 'PFC: å‘é€ç«¯åœæ­¢',
                    pfc: { sender: 'ç«‹å³åœæ­¢', receiver: 'ç¼“å†²é‡Šæ”¾ä¸­', action: 'sender-pause' },
                    cbfc: { sender: 'æ ¹æ®ä¿¡ç”¨å‘é€', receiver: 'ç¼“å†²é‡Šæ”¾ä¸­', action: 'credit-flow' },
                    metrics: { pfcBuf: 60, cbfcCredit: 70 }
                },
                // PFC: PAUSE è¶…æ—¶æˆ–æ¢å¤
                {
                    name: 'PFC: æ¢å¤å‘é€',
                    pfc: { sender: 'æ¢å¤å‘é€', receiver: 'ç¼“å†²é‡Šæ”¾', action: 'pause-clear' },
                    cbfc: { sender: 'æŒç»­å‘é€', receiver: 'æŒç»­åé¦ˆ', action: 'credit-steady' },
                    metrics: { pfcBuf: 35, cbfcCredit: 75 }
                },
                // CBFC: ç¨³æ€è¿è¡Œ
                {
                    name: 'CBFC: åŠ¨æ€å¹³è¡¡',
                    pfc: { sender: 'å¯èƒ½æŠ–åŠ¨', receiver: 'ç¼“å†²æ³¢åŠ¨', action: 'pfc-flap' },
                    cbfc: { sender: 'å¹³ç¨³å‘é€', receiver: 'å¹³ç¨³åé¦ˆ', action: 'cbfc-steady' },
                    metrics: { pfcBuf: 50, cbfcCredit: 68 }
                }
            ];

            let currentStep = -1;
            let animController = null;
            let viewMode = 'mechanism';
            let speedMultiplier = 1;

            // ==================== åˆå§‹åŒ– ====================
            function init() {
                CommonNav.init('pfc-cbfc');
                setupTimelineEvents();
                bindEventListeners();
                initAnimationController();
                initViewToggle();
                updateDisplay();
            }

            // ==================== æ—¶åºå›¾è®¾ç½® ====================
            function setupTimelineEvents() {
                // PFC æ—¶åº
                const pfcSenderEvents = document.getElementById('pfc-sender-timeline');
                const pfcReceiverEvents = document.getElementById('pfc-receiver-timeline');
                const pfcBufferEvents = document.getElementById('pfc-buffer-timeline');

                if (pfcSenderEvents) {
                    pfcSenderEvents.innerHTML = `
                        <div class="timeline-line"></div>
                        <div class="timeline-event pfc-packet" style="left: 5%;">ğŸ“¤ Data1</div>
                        <div class="timeline-event pfc-packet" style="left: 15%;">ğŸ“¤ Data2</div>
                        <div class="timeline-event pfc-packet" style="left: 25%;">â¸ PAUSE</div>
                        <div class="timeline-event pfc-packet" style="left: 60%;">ğŸ“¤ Resume</div>
                    `;
                }

                if (pfcReceiverEvents) {
                    pfcReceiverEvents.innerHTML = `
                        <div class="timeline-line"></div>
                        <div class="timeline-event pfc-ctrl" style="left: 5%;">ğŸ“¥ Recv1</div>
                        <div class="timeline-event pfc-ctrl" style="left: 15%;">ğŸ“¥ Recv2</div>
                        <div class="timeline-event pfc-ctrl" style="left: 25%;">ğŸ“¢ PAUSE</div>
                        <div class="timeline-event pfc-ctrl" style="left: 60%;">ğŸ“¥ Recv3</div>
                    `;
                }

                if (pfcBufferEvents) {
                    pfcBufferEvents.innerHTML = `
                        <div class="timeline-line"></div>
                        <div class="timeline-event" style="left: 5%; background: var(--accent-orange);">â–“â–“</div>
                        <div class="timeline-event" style="left: 15%; background: var(--accent-red);">â–“â–“â–“</div>
                        <div class="timeline-event" style="left: 25%; background: var(--accent-yellow);">ğŸ”” Full</div>
                        <div class="timeline-event" style="left: 60%; background: var(--accent-green);">â–“</div>
                    `;
                }

                // CBFC æ—¶åº
                const cbfcSenderEvents = document.getElementById('cbfc-sender-timeline');
                const cbfcReceiverEvents = document.getElementById('cbfc-receiver-timeline');
                const cbfcCreditEvents = document.getElementById('cbfc-credit-timeline');

                if (cbfcSenderEvents) {
                    cbfcSenderEvents.innerHTML = `
                        <div class="timeline-line"></div>
                        <div class="timeline-event cbfc-data" style="left: 5%;">ğŸ“¤ Data1</div>
                        <div class="timeline-event cbfc-data" style="left: 15%;">ğŸ“¤ Data2</div>
                        <div class="timeline-event cbfc-data" style="left: 25%;">ğŸ“¤ Data3</div>
                        <div class="timeline-event cbfc-data" style="left: 35%;">ğŸ“¤ Data4</div>
                        <div class="timeline-event cbfc-credit" style="left: 40%;">ğŸ”„ CC_Update</div>
                        <div class="timeline-event cbfc-data" style="left: 55%;">ğŸ“¤ Data5</div>
                    `;
                }

                if (cbfcReceiverEvents) {
                    cbfcReceiverEvents.innerHTML = `
                        <div class="timeline-line"></div>
                        <div class="timeline-event cbfc-data" style="left: 5%;">ğŸ“¥ Recv1</div>
                        <div class="timeline-event cbfc-data" style="left: 15%;">ğŸ“¥ Recv2</div>
                        <div class="timeline-event cbfc-data" style="left: 25%;">ğŸ“¥ Recv3</div>
                        <div class="timeline-event cbfc-data" style="left: 35%;">ğŸ“¥ Recv4</div>
                        <div class="timeline-event cbfc-credit" style="left: 40%;">ğŸ“¢ CC_Update</div>
                        <div class="timeline-event cbfc-data" style="left: 55%;">ğŸ“¥ Recv5</div>
                    `;
                }

                if (cbfcCreditEvents) {
                    cbfcCreditEvents.innerHTML = `
                        <div class="timeline-line"></div>
                        <div class="timeline-event cbfc-credit" style="left: 5%;">1000</div>
                        <div class="timeline-event cbfc-credit" style="left: 15%;">976</div>
                        <div class="timeline-event cbfc-credit" style="left: 25%;">952</div>
                        <div class="timeline-event cbfc-credit" style="left: 35%;">928</div>
                        <div class="timeline-event cbfc-credit" style="left: 40%;">1163</div>
                        <div class="timeline-event cbfc-credit" style="left: 55%;">1139</div>
                    `;
                }
            }

            // ==================== äº‹ä»¶ç»‘å®š ====================
            function bindEventListeners() {
                document.getElementById('fc-play-btn').addEventListener('click', () => {
                    animController.start();
                });

                document.getElementById('fc-pause-btn').addEventListener('click', () => {
                    animController.stop();
                });

                document.getElementById('fc-reset-btn').addEventListener('click', () => {
                    animController.reset();
                });

                document.getElementById('fc-step-btn').addEventListener('click', () => {
                    animController.stop();
                    animController.step();
                });

                document.getElementById('fc-speed').addEventListener('input', (e) => {
                    speedMultiplier = parseFloat(e.target.value);
                    animController.setSpeed(speedMultiplier);
                    document.getElementById('fc-speed-val').textContent = speedMultiplier.toFixed(1) + 'x';
                    document.getElementById('fc-speed-display').textContent = speedMultiplier.toFixed(1) + 'x';
                });

                // è§†å›¾åˆ‡æ¢
                document.getElementById('view-mechanism').addEventListener('click', () => {
                    switchView('mechanism');
                });

                document.getElementById('view-sequence').addEventListener('click', () => {
                    switchView('sequence');
                });

                document.getElementById('view-comparison').addEventListener('click', () => {
                    switchView('comparison');
                });
            }

            // ==================== è§†å›¾åˆ‡æ¢ ====================
            function switchView(mode) {
                viewMode = mode;
                document.querySelectorAll('.view-section').forEach(el => {
                    el.classList.remove('active');
                });

                document.querySelectorAll('.btn-view').forEach(el => {
                    el.classList.remove('active');
                });

                if (mode === 'mechanism') {
                    document.getElementById('mechanism-view').classList.add('active');
                    document.getElementById('view-mechanism').classList.add('active');
                } else if (mode === 'sequence') {
                    document.getElementById('sequence-view').classList.add('active');
                    document.getElementById('view-sequence').classList.add('active');
                } else if (mode === 'comparison') {
                    document.getElementById('comparison-view').classList.add('active');
                    document.getElementById('view-comparison').classList.add('active');
                }
            }

            // ==================== åŠ¨ç”»æ§åˆ¶å™¨ ====================
            function initAnimationController() {
                animController = new AnimationController({
                    stepFn: () => {
                        currentStep++;
                        if (currentStep >= COMPARISON_STEPS.length) {
                            return false;
                        }
                        updateDisplay();
                        return true;
                    },
                    interval: 2000,
                    onReset: () => {
                        currentStep = -1;
                        updateDisplay();
                    },
                    onComplete: () => {
                        document.getElementById('fc-current-step-num').innerHTML +=
                            '<br><span class="text-green">âœ“ å®Œæˆ</span>';
                    }
                });
            }

            // ==================== æ›´æ–°æ˜¾ç¤º ====================
            function updateDisplay() {
                document.getElementById('fc-current-step-num').textContent = 
                    currentStep >= 0 ? currentStep + 1 : '0';

                if (currentStep >= 0 && currentStep < COMPARISON_STEPS.length) {
                    const step = COMPARISON_STEPS[currentStep];
                    
                    // æ›´æ–°ç¼“å†²å¯è§†åŒ–
                    document.getElementById('pfc-buffer-fill').style.width = step.metrics.pfcBuf + '%';
                    document.getElementById('pfc-used').textContent = step.metrics.pfcBuf;
                    
                    document.getElementById('cbfc-credit-fill').style.width = step.metrics.cbfcCredit + '%';
                    document.getElementById('cbfc-credit').textContent = (step.metrics.cbfcCredit * 10) + '/1000';

                    document.getElementById('fc-pfc-buffer-pct').textContent = step.metrics.pfcBuf + '%';
                    document.getElementById('fc-cbfc-credit-pct').textContent = step.metrics.cbfcCredit + '%';
                }
            }

            // ==================== åˆå§‹åŒ–è§†å›¾åˆ‡æ¢ ====================
            function initViewToggle() {
                // è®¾ç½®åˆå§‹æ´»è·ƒè§†å›¾
                document.getElementById('mechanism-view').classList.add('active');
                document.getElementById('view-mechanism').classList.add('active');
            }

            // ==================== åˆå§‹åŒ– ====================
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', init);
            } else {
                init();
            }
        })();
    </script>
</body>
</html>